#!/bin/bash

echo "Starting initial sync"
dotfiles="bashrc tmux.conf vimrc"
for f in $dotfiles; do
    if [ -f $HOME/.$f ]; then
        if [ ! -d $HOME/old-dotfiles ]; then
            mkdir $HOME/old-dotfiles
        fi
        mv $HOME/.$f $HOME/old-dotfiles
    fi
    ln -s ~/dotfiles/$f ~/.$f
done
echo "Finished initial sync"
echo "Sync gitconfig?"
select yn in "Yes" "No"; do
    case $yn in
	Yes )
            if [ -f $HOME/.$f]; then
            	if [ -f $HOME/old-dotfiles ]; then
                    mkdir $HOME/old-dotfiles
            	fi
                mv $HOME/.$f $HOME/old-dotfiles
            fi
            ln -s $HOME/.$f $HOME/old-dotfiles
            break;;
        No )
            echo "Didn't sync gitconfig"
            exit;;
    esac
done
